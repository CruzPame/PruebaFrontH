import{e as v,f as N}from"/build/_shared/chunk-RMR4JYXG.js";import{c as h}from"/build/_shared/chunk-4WNDN4QS.js";import{c as d,d as F,f as p,h as P,n as g}from"/build/_shared/chunk-TLAMDKH4.js";var a=d(F(),1);var e=d(g(),1);function y(){let[s,m]=(0,a.useState)({newPassword:"",confirmPassword:""}),[i,k]=(0,a.useState)(!1),[w,o]=(0,a.useState)(null),[r,A]=(0,a.useState)({newPassword:"",confirmPassword:""}),[u,f]=(0,a.useState)(""),[x,c]=(0,a.useState)(""),b=p(),[B]=P(),n=B.get("token");(0,a.useEffect)(()=>{n||c("Token inv\xE1lido o expirado.")},[n]);let C=()=>{let t={newPassword:"",confirmPassword:""},l=!0;return s.newPassword||(t.newPassword="Ingrese una nueva contrase\xF1a",l=!1),s.confirmPassword?s.confirmPassword!==s.newPassword&&(t.confirmPassword="Las contrase\xF1as no coinciden",l=!1):(t.confirmPassword="Confirme su contrase\xF1a",l=!1),A(t),l},E=async()=>{if(f(""),c(""),!(!C()||!n))try{let t=await h(n,s.newPassword,s.confirmPassword);f(t.message||"Contrase\xF1a restablecida correctamente"),setTimeout(()=>{b("/login")},3e3)}catch(t){c(t.message)}};return(0,e.jsx)("div",{className:"h-screen flex flex-col items-center justify-center bg-sky-50 px-4",children:(0,e.jsxs)("div",{className:"w-full max-w-md bg-white shadow-2xl p-8 rounded-3xl transform transition duration-300 hover:scale-105",children:[(0,e.jsx)("div",{className:"flex justify-center mb-6",children:(0,e.jsx)("img",{src:"/images/logos/Horizontal_blue.png",alt:"Logo",className:"w-40"})}),(0,e.jsx)("h1",{className:"text-2xl font-bold text-[#0047BA] text-center mb-6",children:"Nueva Contrase\xF1a"}),x&&(0,e.jsx)("p",{className:"text-red-500 text-xs text-center mb-4",children:x}),u&&(0,e.jsx)("p",{className:"text-green-500 text-xs text-center mb-4",children:u}),(0,e.jsxs)("div",{className:"relative mb-6",children:[(0,e.jsx)("input",{type:i?"text":"password",name:"newPassword",value:s.newPassword,onChange:t=>m({...s,newPassword:t.target.value}),onFocus:()=>o("newPassword"),onBlur:()=>o(null),className:"peer w-full bg-white border-b-2 text-sm text-black p-3 focus:outline-none transition-all border-gray-400 focus:border-[#0047BA]"}),(0,e.jsx)("label",{className:`absolute left-3 transition-all text-black ${s.newPassword||w==="newPassword"?"-top-2 text-xs text-[#0047BA]":"top-3"}`,children:"Nueva contrase\xF1a"}),(0,e.jsx)("button",{type:"button",onClick:()=>k(!i),className:"absolute right-3 top-3 text-gray-500 hover:text-[#0047BA] transition-all",children:i?(0,e.jsx)(v,{size:20}):(0,e.jsx)(N,{size:20})}),r.newPassword&&(0,e.jsx)("p",{className:"text-red-500 text-xs mt-1",children:r.newPassword})]}),(0,e.jsxs)("div",{className:"relative mb-6",children:[(0,e.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:t=>m({...s,confirmPassword:t.target.value}),onFocus:()=>o("confirmPassword"),onBlur:()=>o(null),className:"peer w-full bg-white border-b-2 text-sm text-black p-3 focus:outline-none transition-all border-gray-400 focus:border-[#0047BA]"}),(0,e.jsx)("label",{className:`absolute left-3 transition-all text-black ${s.confirmPassword||w==="confirmPassword"?"-top-2 text-xs text-[#0047BA]":"top-3"}`,children:"Confirmar contrase\xF1a"}),r.confirmPassword&&(0,e.jsx)("p",{className:"text-red-500 text-xs mt-1",children:r.confirmPassword})]}),(0,e.jsx)("button",{className:"w-full text-white py-3 bg-[#0047BA] rounded-lg hover:scale-105 transition-all",onClick:E,children:"Aceptar"}),(0,e.jsx)("div",{className:"text-center mt-4",children:(0,e.jsx)("button",{onClick:()=>b("/login"),className:"text-sm text-blue-600 hover:underline transition-all",children:"Volver al inicio de sesi\xF3n"})})]})})}export{y as default};
