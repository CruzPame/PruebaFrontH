import{b as E,c as B}from"/build/_shared/chunk-FAZR3QHA.js";import{a as k,b as v,c as w,d as A,k as D,l as T,n as S,r as j,u as P}from"/build/_shared/chunk-RMR4JYXG.js";import{c as f,d as _,n as y}from"/build/_shared/chunk-TLAMDKH4.js";var o=f(_(),1);var e=f(y(),1);function L(){let[h,O]=(0,o.useState)(!0),[s,M]=(0,o.useState)(""),[c,V]=(0,o.useState)(!0),[i,b]=(0,o.useState)(1),[d,m]=(0,o.useState)(!1),[r,u]=(0,o.useState)(null),p=5,F="T\xE9cnicos",[n,x]=(0,o.useState)([{id:1,nombreCuadrilla:"Cuadrilla A",correo:"cuadrillaA@example.com",telefono:"123456789",ticketAsignado:"001",disponibilidad:"Disponible"},{id:2,nombreCuadrilla:"Cuadrilla B",correo:"cuadrillaB@example.com",telefono:"987654321",ticketAsignado:"002",disponibilidad:"Ocupado"},{id:3,nombreCuadrilla:"Cuadrilla C",correo:"cuadrillaC@example.com",telefono:"555555555",ticketAsignado:"003",disponibilidad:"De baja"},{id:4,nombreCuadrilla:"Cuadrilla D",correo:"cuadrillaD@example.com",telefono:"5457457323",ticketAsignado:"035",disponibilidad:"En descanso"},{id:5,nombreCuadrilla:"Cuadrilla A",correo:"cuadrillaA@example.com",telefono:"123456789",ticketAsignado:"001",disponibilidad:"Disponible"},{id:6,nombreCuadrilla:"Cuadrilla B",correo:"cuadrillaB@example.com",telefono:"987654321",ticketAsignado:"002",disponibilidad:"Ocupado"},{id:7,nombreCuadrilla:"Cuadrilla C",correo:"cuadrillaC@example.com",telefono:"555555555",ticketAsignado:"003",disponibilidad:"De baja"},{id:8,nombreCuadrilla:"Cuadrilla D",correo:"cuadrillaD@example.com",telefono:"5457457323",ticketAsignado:"035",disponibilidad:"En descanso"},{id:9,nombreCuadrilla:"Cuadrilla A",correo:"cuadrillaA@example.com",telefono:"123456789",ticketAsignado:"001",disponibilidad:"Disponible"},{id:10,nombreCuadrilla:"Cuadrilla B",correo:"cuadrillaB@example.com",telefono:"987654321",ticketAsignado:"002",disponibilidad:"Ocupado"},{id:11,nombreCuadrilla:"Cuadrilla C",correo:"cuadrillaC@example.com",telefono:"555555555",ticketAsignado:"003",disponibilidad:"De baja"},{id:12,nombreCuadrilla:"Cuadrilla D",correo:"cuadrillaD@example.com",telefono:"5457457323",ticketAsignado:"035",disponibilidad:"En descanso"}]),C=[...n.filter(a=>a.id.toString().includes(s)||a.nombreCuadrilla.toLowerCase().includes(s.toLowerCase())||a.ticketAsignado.toLowerCase().includes(s.toLowerCase()))].sort((a,t)=>c?a.id-t.id:t.id-a.id),g=Math.max(Math.ceil(C.length/p),1),z=C.slice((i-1)*p,i*p),I=()=>{i<g&&b(i+1)},$=()=>{i>1&&b(i-1)},G=()=>{V(!c)},N=()=>{O(!h)},H=a=>{switch(a){case"Disponible":return"bg-cyan-600";case"Ocupado":return"bg-blue-700";case"De baja":return"bg-slate-700";case"En descanso":return"bg-blue-400";default:return"bg-gray-500"}},R=a=>{if(d){let t={id:n.length+1,...a,ticketAsignado:"N/A",disponibilidad:"Disponible"};x([...n,t])}else x(t=>t.map(l=>l.id===r.id?{...l,...a}:l));m(!1),u(null)},U=a=>{x(n.filter(t=>t.id!==a))};return(0,e.jsxs)("div",{className:"w-screen h-screen flex bg-sky-50",children:[(0,e.jsx)(E,{sidebarVisible:h,toggleSidebar:N}),(0,e.jsxs)("main",{className:"flex flex-col h-screen w-screen",children:[(0,e.jsx)(B,{toggleSidebar:N,title:F}),(0,e.jsx)("div",{className:"flex h-full p-4 md:p-6 overflow-auto",children:(0,e.jsxs)("div",{className:"flex flex-col justify-between bg-white h-full w-full shadow-md rounded-3xl p-6 overflow-x-auto",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-black",children:"T\xE9cnicos"}),(0,e.jsx)("p",{className:"text-sm text-blue-500",children:"Asignar t\xE9cnicos"})]}),(0,e.jsxs)("div",{className:"flex space-x-4",children:[(0,e.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md p-2 bg-white",children:[(0,e.jsx)(S,{className:"w-5 h-5 text-black"}),(0,e.jsx)("input",{type:"text",placeholder:"Buscar...",className:"ml-2 outline-none text-black bg-white",value:s,onChange:a=>M(a.target.value)})]}),(0,e.jsx)("button",{className:"h-10 w-10 flex items-center bg-slate-200 text-black p-2 rounded-full space-x-2",onClick:G,children:c?(0,e.jsx)(k,{className:"w-6 h-5"}):(0,e.jsx)(A,{className:"w-6 h-5"})}),(0,e.jsx)("button",{className:"h-10 w-10 flex items-center bg-primary text-black p-2 rounded-full space-x-2",onClick:()=>m(!0),children:(0,e.jsx)(T,{className:"w-6 h-5 text-white"})})]})]}),(0,e.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"bg-gray-100 text-black uppercase text-sm leading-normal",children:[(0,e.jsx)("th",{className:"py-3 px-6",children:"ID"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Nombre Cuadrilla"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Tel\xE9fono"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Correo"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Ticket Asignado"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Disponibilidad"}),(0,e.jsx)("th",{className:"py-3 px-6",children:"Acciones"})," "]})}),(0,e.jsx)("tbody",{children:z.map(a=>(0,e.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-blue-50",children:[(0,e.jsx)("td",{className:"py-3 px-6 text-blue-500",children:a.id}),(0,e.jsx)("td",{className:"py-3 px-6 text-black",children:a.nombreCuadrilla}),(0,e.jsx)("td",{className:"py-3 px-6 text-black",children:a.telefono}),(0,e.jsx)("td",{className:"py-3 px-6 text-black",children:a.correo}),(0,e.jsx)("td",{className:"py-3 px-6 text-black",children:"Ticket "+a.ticketAsignado}),(0,e.jsx)("td",{className:"py-3 px-6",children:(0,e.jsx)("div",{className:`h-full w-fit px-2 py-1 rounded-md text-white cursor-default ${H(a.disponibilidad)}`,children:a.disponibilidad})}),(0,e.jsxs)("td",{className:"py-3 px-6 text-center",children:[(0,e.jsx)("button",{onClick:()=>u(a),className:"text-blue-500 hover:text-blue-700 mr-3",children:(0,e.jsx)(D,{className:"w-5 h-5"})}),(0,e.jsx)("button",{onClick:()=>U(a.id),className:"text-red-500 hover:text-red-700",children:(0,e.jsx)(j,{className:"w-5 h-5"})})]})]},a.id))})]})]}),(0,e.jsxs)("div",{className:"flex justify-center md:justify-end mt-4 space-x-2",children:[(0,e.jsx)("button",{onClick:$,disabled:i===1,className:"px-3 py-1 bg-gray-200 text-black rounded disabled:opacity-50",children:(0,e.jsx)(v,{className:"w-5 h-5"})}),Array.from({length:Math.min(g,5)},(a,t)=>{let l=t+1;return(0,e.jsx)("button",{onClick:()=>b(l),className:`px-3 py-1 rounded ${i===l?"bg-blue-500 text-white":"bg-gray-200 text-black"}`,children:l},l)}),(0,e.jsx)("button",{onClick:I,disabled:i===g,className:"px-3 py-1 bg-gray-200 text-black rounded disabled:opacity-50",children:(0,e.jsx)(w,{className:"w-5 h-5"})})]})]})}),(r||d)&&(0,e.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50",children:(0,e.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-black",children:d?"Agregar T\xE9cnico":"Editar T\xE9cnico"}),(0,e.jsx)("button",{onClick:()=>{u(null),m(!1)},className:"text-gray-600 hover:text-gray-900",children:(0,e.jsx)(P,{className:"w-5 h-5"})})]}),(0,e.jsxs)("form",{onSubmit:a=>{a.preventDefault();let t=new FormData(a.target),l=Object.fromEntries(t.entries()),X={nombreCuadrilla:String(l.nombreCuadrilla),correo:String(l.correo),telefono:String(l.telefono)};R(X)},children:[[{label:"Nombre Cuadrilla",name:"nombreCuadrilla"},{label:"Correo",name:"correo"},{label:"Tel\xE9fono",name:"telefono"}].map(({label:a,name:t})=>(0,e.jsxs)("div",{className:"mb-3",children:[(0,e.jsx)("label",{className:"block text-sm text-black capitalize",children:a}),(0,e.jsx)("input",{type:"text",name:t,defaultValue:r&&r[t]||"",className:"w-full p-2 border rounded-md"})]},t)),(0,e.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded-md mt-3",children:d?"Agregar":"Guardar"})]})]})})]})]})}export{L as default};
